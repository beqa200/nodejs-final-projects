# Project 1: Blog Platform Backend API

---

## პროექტის აღწერა

შექმენი **Blog Platform-ის Backend API**, სადაც მომხმარებლებს შეეძლებათ რეგისტრაცია, პოსტების შექმნა, რედაქტირება, წაშლა, ნახვა და კომენტარების დამატება.

---

## ძირითადი რესურსები (Entities)

### 1. User

- რეგისტრირებული მომხმარებელი.
- შეუძლია შექმნას პოსტები და დაწეროს კომენტარები.

**User მოდელის ველები:**

- `id` (UUID ან ObjectId) — უნიკალური იდენტიფიკატორი
- `name` (String) — მომხმარებლის სახელი
- `email` (String) — მომხმარებლის იმეილი (უნიკალური)
- `password` (String) — დაშიფრული პაროლი
- `role` (String) — "user" ან "admin" (default: "user")
- `profileImage` (String) — პროფილის ფოტო (სურვილისამებრ)

### 2. Post

- სტატია/პოსტი, რომელსაც ქმნის მომხმარებელი.

**Post მოდელის ველები:**

- `id` (UUID ან ObjectId)
- `title` (String) — პოსტის სათაური
- `content` (String) — პოსტის შიგთავსი
- `image` (String) — (სურვილისამებრ) პოსტის სურათი
- `createdAt` (Date)
- `updatedAt` (Date)
- `authorId` (Foreign Key) — მომხმარებლის ID, ვინც შექმნა პოსტი

### 3. Comment

- კომენტარი პოსტზე.

**Comment მოდელის ველები:**

- `id` (UUID ან ObjectId)
- `content` (String) — კომენტარის ტექსტი
- `createdAt` (Date)
- `postId` (Foreign Key) — რომელ პოსტზე გაკეთდა კომენტარი
- `userId` (Foreign Key) — ვინ დაწერა კომენტარი

---

## Authentication და Authorization

- **რეგისტრაცია და ლოგინი** JWT-ის მეშვეობით.
- **Middleware**: მხოლოდ ავტორიზებული მომხმარებლები შეძლებენ პოსტების და კომენტარების დამატებას.
- **როლები:**
  - **Admin:** შეუძლია წაშალოს ნებისმიერი პოსტი ან კომენტარი.
  - **User:** შეუძლია შეცვალოს ან წაშალოს მხოლოდ საკუთარი პოსტები და კომენტარები.

---

## API Endpoint-ები

### Authentication

- `POST /api/auth/register` — რეგისტრაცია
- `POST /api/auth/login` — ლოგინი

### Users

- `GET /api/users/me` — საკუთარი პროფილის ნახვა
- `PATCH /api/users/update` — პროფილის განახლება (სახელი, სურათი)

### Posts

- `POST /api/posts/` — პოსტის შექმნა (ავტორიზებული მომხმარებელი)
- `GET /api/posts/` — ყველა პოსტის ჩამონათვალი
- `GET /api/posts/:id` — კონკრეტული პოსტის დეტალები
- `PATCH /api/posts/:id` — პოსტის რედაქტირება (მფლობელი ან admin)
- `DELETE /api/posts/:id` — პოსტის წაშლა (მფლობელი ან admin)

### Comments

- `POST /api/comments/:postId` — კომენტარის დამატება პოსტზე
- `GET /api/comments/:postId` — პოსტზე გაკეთებული კომენტარების ნახვა
- `PATCH /api/comments/:id` — კომენტარის რედაქტირება (მფლობელი ან admin)
- `DELETE /api/comments/:id` — კომენტარის წაშლა (მფლობელი ან admin)

---

## ფუნქციონალი

- **Password Encryption:** რეგისტრაციისას და ლოგინისას bcrypt გამოყენება.
- **Authorization Middleware:** მომხმარებლის იდენტიფიკაცია JWT-ის საფუძველზე.
- **Error Handling:** ყველა Endpoint უნდა აბრუნებდეს სტანდარტიზებულ შეცდომის შეტყობინებებს.
- **File Upload:** პროფილის სურათისა და პოსტის სურათების ატვირთვა (Multer).
- **Email Service:** პაროლის აღდგენის იმპლემენტაცია ელფოსტის გაგზავნით.
- **Swagger Documentation:** ყველა Endpoint-ის API დოკუმენტაცია.

---

## Deployment

- ატვირთეთ პროექტი ონლაინ პლატფორმაზე (მაგალითად Heroku ან სხვა).
  å

---

## ტექნოლოგიები

- Node.js
- Express.js
- PostgreSQL (Prisma)
- JWT
- Multer
- Nodemailer
- Swagger
- Postman (ტესტირებისას)

---

# მოკლე ვერსია პროექტის ნაკადის

```
1. მომხმარებელი რეგისტრირდება ან შედის სისტემაში
2. მომხმარებელი ქმნის პოსტს
3. სხვა მომხმარებლები კითხულობენ პოსტს და ტოვებენ კომენტარებს
4. მომხმარებლებს შეუძლიათ რედაქტირება ან წაშლა (საკუთარი რესურსების)
5. Admin მომხმარებლებს აქვთ სრული კონტროლი
6. ყველაფერი არის დაცული ავტორიზაციით და გაწერილი დოკუმენტაციით
7. პროექტი განთავსებულია ონლაინ
```
